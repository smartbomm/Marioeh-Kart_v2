Version 4
SHEET 1 880 680
WIRE 288 -16 288 -80
WIRE 400 -16 288 -16
WIRE -96 80 -96 64
WIRE 176 80 176 0
WIRE 256 80 176 80
WIRE 288 80 288 -16
WIRE 400 112 400 64
WIRE 400 112 352 112
WIRE 256 144 192 144
WIRE 288 176 288 144
WIRE 80 240 80 224
WIRE 192 240 192 144
WIRE 192 240 80 240
WIRE 256 240 192 240
WIRE 400 240 400 112
WIRE 400 240 336 240
WIRE 80 256 80 240
WIRE -96 320 -96 160
FLAG 80 336 0
FLAG 288 176 0
FLAG 400 112 Vout
IOPIN 400 112 Out
FLAG -96 320 0
FLAG -96 64 3v3
FLAG 80 144 3v3
FLAG 288 -80 3v3
FLAG 176 -80 0
SYMBOL res 352 224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 100k
SYMBOL voltage -96 64 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 3
SYMBOL voltage 176 16 R180
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vsensor
SYMATTR Value SINE(1.5 1.5 5)
SYMBOL res 64 128 R0
SYMATTR InstName Pot1
SYMATTR Value 80k
SYMBOL res 64 240 R0
SYMATTR InstName Pot2
SYMATTR Value 20k
SYMBOL Comparators\\LM393 272 112 R0
SYMATTR InstName U2
SYMBOL res 384 -32 R0
SYMATTR InstName R2
SYMATTR Value 10k
TEXT -128 360 Left 2 !.tran 0.25
TEXT 448 24 Left 2 ;Pull-up resistor
TEXT 256 296 Left 2 ;Histeresis Resistor
TEXT 24 368 Left 1 ;Offset potentiometer
